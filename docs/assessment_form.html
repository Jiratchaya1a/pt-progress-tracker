<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<style>
body {
    font-family: Arial, sans-serif;
    padding: 40px;
    margin: 0;
    background-color: #f5f5f5;
}

h1 {
    text-align: center;
    margin-bottom: 40px;
}
#titleLine,
#patientName {
    font-size: 24px;      /* ‡∏Ç‡∏ô‡∏≤‡∏î‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô */
    font-weight: bold;
}

.grid-container {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 40px;
    margin-bottom: 40px;
}

.assessment-card {
    background-color: #fff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    text-align: center;
}

.assessment-card h2 {
    margin-top: 0;
}

.faces {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.face {
    font-size: 50px;
    cursor: pointer;
    transition: transform 0.2s;
}

.face:hover {
    transform: scale(1.3);
}

.selected {
    border: 3px solid #ff9800;
    border-radius: 50%;
    padding: 10px;
}

.result {
    margin-top: 15px;
    font-size: 18px;
    font-weight: bold;
}

button {
    font-size: 20px;
    padding: 12px 30px;
    cursor: pointer;
    border: none;
    border-radius: 8px;
    background-color: #ff9800;
    color: white;
    transition: background-color 0.2s;
}

button:hover {
    background-color: #e68a00;
}
.assessment-card {
    margin: 0 4px;
}
/* ===== Mobile Responsive ===== */
@media (max-width: 768px) {

    body {
        padding: 20px;
    }

    h1 {
        font-size: 22px;
        margin-bottom: 24px;
    }

    /* ‡πÉ‡∏´‡πâ grid ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏á‡∏°‡∏≤ 1 ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
    .grid-container {
        grid-template-columns: 1fr;
        gap: 20px;
    }

    .assessment-card {
        padding: 18px;
    }

    .face {
        font-size: 44px;
    }

    button {
        width: 100%;
        font-size: 18px;
        padding: 14px;
    }
}

</style>
</head>
<body>  
<!-- Success Popup -->
<div id="successPopup" style="
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.35);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:9999;
">
  <div style="
    background:white;
    border-radius:16px;
    padding:30px 36px;
    text-align:center;
    box-shadow:0 10px 30px rgba(0,0,0,0.2);
    animation:popIn 0.25s ease-out;
  ">
    <div style="font-size:64px;color:#22c55e;margin-bottom:12px;">‚úî</div>
    <div style="font-size:18px;font-weight:600;color:#111827;">
      ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢<br>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö/‡∏Ñ‡πà‡∏∞
    </div>
  </div>
</div>

<style>
@keyframes popIn {
  from { transform: scale(0.8); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}
</style>


    
<h1 id="pageTitle">
  <div id="titleLine"></div>
  <div id="patientName"></div>
</h1>



<!-- =======================
     ‡∏Ç‡πâ‡∏≠ 1+2 (Grid)
======================= -->
<div class="grid-container">
    <!-- 1) ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏ß‡∏î -->
    <div class="assessment-card">
        <h2>1) ‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏ß‡∏î (Pain) </h2>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏≠‡∏≤‡∏Å‡∏≤‡∏£‡∏õ‡∏ß‡∏î‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        <div class="faces" id="painFaces">
            <div class="face" onclick="selectPain(0)">üòÄ</div>
            <div class="face" onclick="selectPain(1)">üôÇ</div>
            <div class="face" onclick="selectPain(2)">üòê</div>
            <div class="face" onclick="selectPain(3)">‚òπÔ∏è</div>
            <div class="face" onclick="selectPain(4)">üò£</div>
            <div class="face" onclick="selectPain(5)">üò≠</div>
        </div>
        <div id="resultPain" class="result">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏ß‡∏î</div>
    </div>

    <!-- 2) ‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß -->
    <div class="assessment-card">
        <h2>2) ‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß (ROM)</h2>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        <div class="faces" id="romFaces">
            <div class="face" onclick="selectRom(0)">üòÄ</div>
            <div class="face" onclick="selectRom(1)">üôÇ</div>
            <div class="face" onclick="selectRom(2)">üòê</div>
            <div class="face" onclick="selectRom(3)">‚òπÔ∏è</div>
            <div class="face" onclick="selectRom(4)">üò£</div>
        </div>
        <div id="resultRom" class="result">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡πà‡∏ß‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß</div>
    </div>
</div>

<!-- =======================
     ‡∏Ç‡πâ‡∏≠ 3+4 (Grid)
======================= -->
<div class="grid-container">
    <!-- 3) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠ -->
    <div class="assessment-card">
        <h2>3) ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠</h2>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        <div class="faces" id="strengthFaces">
            <div class="face" onclick="selectStrength(0)">üèãÔ∏è‚Äç‚ôÇÔ∏è</div>
            <div class="face" onclick="selectStrength(1)">üí™</div>
            <div class="face" onclick="selectStrength(2)">üëç</div>
            <div class="face" onclick="selectStrength(3)">ü§è</div>
            <div class="face" onclick="selectStrength(4)">üëé</div>
         <div class="face" onclick="selectStrength(5)">‚ùå</div>
        </div>
        <div id="resultStrength" class="result">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏•‡πâ‡∏≤‡∏°‡πÄ‡∏ô‡∏∑‡πâ‡∏≠</div>
    </div>

    <!-- 4) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô -->
    <div class="assessment-card">
        <h2>4) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡∏ß‡∏±‡∏ô (ADL)</h2>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        <div class="faces" id="adlFaces">
            <div class="face" onclick="selectAdl(0)">üèÉ‚Äç‚ôÇÔ∏è</div>
            <div class="face" onclick="selectAdl(1)">üö∂‚Äç‚ôÇÔ∏è</div>
            <div class="face" onclick="selectAdl(2)">ü™ë</div>
            <div class="face" onclick="selectAdl(3)">üõèÔ∏è</div>
            <div class="face" onclick="selectAdl(4)">‚ùå</div>
        </div>
        <div id="resultAdl" class="result">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ó‡∏≥‡∏Å‡∏¥‡∏à‡∏ß‡∏±‡∏ï‡∏£</div>
    </div>
</div>

<!-- =======================
     ‡∏Ç‡πâ‡∏≠ 5) ‡∏ú‡∏•‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤
======================= -->
<div class="assessment-card" style="margin-bottom:50px;">
    <h2>5) ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤</h2>
    <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏Å‡∏©‡∏≤</p>
    <div class="faces" id="outcomeFaces">
        <div class="face" onclick="selectOutcome(0)">üòÄ</div>
        <div class="face" onclick="selectOutcome(1)">üôÇ</div>
        <div class="face" onclick="selectOutcome(2)">üòê</div>
        <div class="face" onclick="selectOutcome(3)">‚òπÔ∏è</div>
        <div class="face" onclick="selectOutcome(4)">üò£</div>
    </div>
    <div id="resultOutcome" class="result">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏û‡∏∂‡∏á‡∏û‡∏≠‡πÉ‡∏à</div>
</div>

<button id="submitBtn" onclick="sendData()">‡∏™‡πà‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô</button>

<script>
const hn = getQueryParam("hn");
const fullname = getQueryParam("name");

let assessment = {pain:null, rom:null, strength:null, adl:null, outcome:null};

function selectPain(level){ updateSelection('painFaces', 'resultPain', ["0/10 = ‡πÑ‡∏°‡πà‡∏õ‡∏ß‡∏î‡πÄ‡∏•‡∏¢","2/10 = ‡∏õ‡∏ß‡∏î‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢","4/10 = ‡∏õ‡∏ß‡∏î‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á","6/10 = ‡∏õ‡∏ß‡∏î‡∏°‡∏≤‡∏Å","8/10 = ‡∏õ‡∏ß‡∏î‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î","10/10 = ‡∏õ‡∏ß‡∏î‡∏£‡∏∏‡∏ô‡πÅ‡∏£‡∏á"], level,'pain'); }
function selectRom(level){ updateSelection('romFaces', 'resultRom', ["Normal = ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥","Good = ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÑ‡∏î‡πâ‡∏î‡∏µ","Fair = ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢","Poor = ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å","No = ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢"], level,'rom'); }
function selectStrength(level){ updateSelection('strengthFaces','resultStrength',["5 = ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å","4 = ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á","3 = ‡πÅ‡∏Ç‡πá‡∏á‡πÅ‡∏£‡∏á‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á","2 = ‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏£‡∏á","1 = ‡∏≠‡πà‡∏≠‡∏ô‡πÅ‡∏£‡∏á‡∏°‡∏≤‡∏Å","0 = ‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÅ‡∏£‡∏á"],level,'strength'); }
function selectAdl(level){ updateSelection('adlFaces','resultAdl',["Normal = ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥","Good = ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏õ‡∏Å‡∏ï‡∏¥","Fair = ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô","Poor = ‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ô‡πâ‡∏≠‡∏¢‡∏°‡∏≤‡∏Å","No = ‡∏ó‡∏≥‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢"],level,'adl'); }
function selectOutcome(level){ updateSelection('outcomeFaces','resultOutcome',["5 = ‡∏î‡∏µ‡∏°‡∏≤‡∏Å","4 = ‡∏î‡∏µ","3 = ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á","2 = ‡∏û‡∏≠‡πÉ‡∏ä‡πâ","1 = ‡∏Ñ‡∏ß‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á"],level,'outcome'); }

function updateSelection(containerId,resultId,textArray,level,key){
    const faces = document.querySelectorAll('#'+containerId+' .face');
    faces.forEach(f=>f.classList.remove('selected'));
    faces[level].classList.add('selected');
    document.getElementById(resultId).innerText = textArray[level];
    assessment[key] = textArray[level];
}

const GOOGLE_API_URL = "https://script.google.com/macros/s/AKfycbzMIfcPcmjbJC4W1KIsWtTjUy2ntgszevxR2eU59byqO-GwdlH28zE38bjW9QzdcsPS/exec";

function sendData(){
  if(!assessment.pain || !assessment.rom || !assessment.strength || !assessment.adl || !assessment.outcome){
    alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ó‡∏∏‡∏Å‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•");
    return;
  }

  if(!hn){
    alert("‡πÑ‡∏°‡πà‡∏û‡∏ö HN ‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢");
    return;
  }

  const btn = document.getElementById("submitBtn");
  btn.disabled = true;
  btn.innerText = "‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...";

    const payload = {
      _type: "assessment",   // üëà ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ = ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤ Sheet2
      hn: hn,
      fullname: fullname || "",
      pain: assessment.pain,
      rom: assessment.rom,
      strength: assessment.strength,
      adl: assessment.adl,
      outcome: assessment.outcome
    };


  fetch(GOOGLE_API_URL, {
    method: "POST",
    headers: { "Content-Type": "text/plain;charset=utf-8" },
    body: JSON.stringify(payload)
  })
  .then(res => res.text())
  .then(text => {
    let json;
    try {
      json = JSON.parse(text);
    } catch(e) {
      console.error("‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà JSON:", text);
      alert("Google Script ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
      return;
    }

    if (json.status === "success") {
      btn.innerText = "‚úî ‡∏™‡πà‡∏á‡πÅ‡∏•‡πâ‡∏ß";
      showSuccessPopup();          // üëà ‡πÇ‡∏ä‡∏ß‡πå‡∏´‡∏•‡∏±‡∏á server ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß
    } else {
      alert("‚ùå ‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î: " + json.message);
      btn.disabled = false;
      btn.innerText = "‡∏™‡πà‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô";
    }
  })
  .catch(err => {
    console.error("‚ùå ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß:", err);
    alert("‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏õ Google Sheet ‡πÑ‡∏î‡πâ");
    btn.disabled = false;
    btn.innerText = "‡∏™‡πà‡∏á‡∏ú‡∏•‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô";
  });
}

function showSuccessPopup() {
  const popup = document.getElementById("successPopup");
  popup.style.display = "flex";

  setTimeout(() => {
    popup.style.display = "none";
  }, 1800); // ‡πÅ‡∏™‡∏î‡∏á ~1.8 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
}


function getQueryParam(key){
  const params = new URLSearchParams(window.location.search);
  return params.get(key);
}

function formatThaiDate(date = new Date()){
  const months = [
    "‡∏°.‡∏Ñ.","‡∏Å.‡∏û.","‡∏°‡∏µ.‡∏Ñ.","‡πÄ‡∏°.‡∏¢.","‡∏û.‡∏Ñ.","‡∏°‡∏¥.‡∏¢.",
    "‡∏Å.‡∏Ñ.","‡∏™.‡∏Ñ.","‡∏Å.‡∏¢.","‡∏ï.‡∏Ñ.","‡∏û.‡∏¢.","‡∏ò.‡∏Ñ."
  ];
  const d = date.getDate();
  const m = months[date.getMonth()];
  const y = date.getFullYear() + 543;
  return `${d} ${m} ${y}`;
}

// ----- set header -----
const patientName = getQueryParam("name");

// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ö‡∏ô
document.getElementById("titleLine").innerText =
  `‡πÅ‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏Å‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡∏ö‡∏≥‡∏ö‡∏±‡∏î ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${formatThaiDate()}`;

// ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏•‡πà‡∏≤‡∏á
if(patientName){
  document.getElementById("patientName").innerText = patientName;
}

</script>

</body>
</html>
